<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[html5å®žçŽ°æ»‘åŠ¨è§£é”åŠŸèƒ½]]></title>
    <url>%2F2017%2F03%2F29%2Fhtml5%E5%AE%9E%E7%8E%B0%E6%BB%91%E5%8A%A8%E8%A7%A3%E9%94%81%E5%8A%9F%E8%83%BD%2F</url>
    <content type="text"><![CDATA[è®¾è®¡æ€è·¯ åœ¨åˆšå¼€å§‹åšçš„æ—¶å€™ï¼Œæˆ‘åšçš„æ˜¯ç›´æŽ¥åœ¨htmlæ–‡ä»¶é‡ŒæŠŠé¡µé¢ç»“æž„å†™å‡ºæ¥ï¼Œç„¶åŽå†ä¸€ä¸ªä¸€ä¸ªåŠŸèƒ½çš„åŠ ä¸ŠåŽ»ï¼Œå†™äº†å‡ ä¸ªå‡½æ•°ä¹‹åŽï¼Œå‘çŽ°è¿™æ ·åšå„ä¸ªå‡½æ•°ä¹‹é—´ä¸å¥½é…åˆï¼Œè€Œä¸”æ„Ÿè§‰è¯¥åŠŸèƒ½çš„çµæ´»æ€§ä¸å¤Ÿã€‚æ‰€ä»¥å°±å°è¯•åŠ¨æ€åˆ›å»ºhtml,å¹¶ä¸”æŠŠæ•´ä¸ªæ»‘åŠ¨è§£é”çš„åŠŸèƒ½å†™æˆä¸€ä¸ªç»„ä»¶ï¼Œæ„Ÿè§‰è¿™æ ·çµæ´»æ€§æ€§è¦å¼ºè®¸å¤šã€‚ æˆ‘æŠŠä»£ç åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šé¡µé¢åˆå§‹åŒ–éƒ¨åˆ†ã€ç»‘å®šäº‹ä»¶éƒ¨åˆ†ã€å¯†ç æ“ä½œéƒ¨åˆ†ã€‚ 1. é¡µé¢åˆå§‹åŒ–éƒ¨åˆ†ï¼šè¯¥éƒ¨åˆ†çš„ä¸»è¦åŠŸèƒ½æ˜¯ï¼ŒåŠ¨æ€åˆ›å»ºé¡µé¢DOMç»“æž„ï¼›ç¡®å®šæ¯ä¸ªè§£é”åœ†çš„åœ†å¿ƒï¼›ç¡®å®šç”»åœ†å‡½æ•°ã€ç”»çº¿å‡½æ•°ç­‰ã€‚ å…³é”®ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334 oLock.prototype.getPoint=function()&#123; //è§„åˆ’å¥½æ¯ä¸ªåœ†å¿ƒçš„ä½ç½®,å¹¶ç»™æ¯ä¸ªä½ç½®åŠ ä¸Šåºå· var n=3; var num=0; this.r=this.oC.width/(2+4*n); //è®©åœ†å¿ƒå‡åŒ€åˆ†å¸ƒåœ¨ä¸­å¿ƒçš„å…¬å¼ this.usedArr=[]; //é‡ç½®usedArr; this.arr=[]; this.restArr=[]; //å‰©ä¸‹çš„å°åœˆåœˆé›†åˆ var r=this.r; for(var i=0;i&lt;n;i++)&#123; //å­˜æ¯ä¸ªç‚¹çš„åæ ‡ for(var j=0;j&lt;n;j++)&#123; num++; var obj=&#123; x: j*4*r+3*r, y: i*4*r+3*r, index:num, &#125;; this.arr.push(obj); this.restArr.push(obj); &#125; &#125; this.oGC.clearRect(0,0,this.oC.width,this.oC.height); for(var i=0;i&lt;this.arr.length;i++)&#123; this.createCle(this.arr[i].x,this.arr[i].y); &#125;&#125;oLock.prototype.createCle=function(x,y)&#123; //ç”»æ¯ä¸ªåœ†åœˆ this.oGC.lineWidth=2; this.oGC.strokeStyle="#E6E6E6"; this.oGC.beginPath(); this.oGC.arc(x,y,this.r,0,Math.PI*2,true); this.oGC.closePath(); this.oGC.stroke();&#125; è¿™ä¸¤ä¸ªçš„åŠŸèƒ½æ˜¯æ‰¾åˆ°æ¯ä¸ªåœ†çš„åœ†å¿ƒï¼Œå¹¶æŠŠæ¯ä¸ªåœ†ç»™ç”»å‡ºæ¥ã€‚åœ†çš„åŠå¾„rå’Œcanvaså®½åº¦æœ‰å…³ã€‚ r=this.oC.width/(2+4n)çš„å¾—æ¥ï¼šæˆ‘æƒ³çš„æ˜¯æ¯ä¸ªåœ†ä¹‹é—´ï¼Œä»¥åŠåœ†å’Œè¾¹ç•Œé—´éš”ä¸€ä¸ªåŠå¾„ï¼Œæ‰€ä»¥å¯ä»¥å¾—åˆ°width=(2r)(n+1)+2rn,æ±‚å¾—r=width/(2+4n)ã€‚ æ­¤å¤„é‡åˆ°çš„å‘ï¼šå½“åˆæ²¡æœ‰å†™ä¸Šthis.usedArr=[]è¿™å¥è¯ï¼Œå¯¼è‡´usedArræ²¡æœ‰æ¸…ç©ºï¼Œç¬¬äºŒæ¬¡ç‚¹å‡»æ»‘åŠ¨çš„æ—¶å€™è‡ªåŠ¨æ·»åŠ äº†ä¸Šä¸€æ¬¡è·¯å¾„ðŸ˜‚ 2. äº‹ä»¶ç»‘å®šéƒ¨åˆ†ï¼šè¯¥éƒ¨åˆ†ä¸»è¦å°±æ˜¯æ·»åŠ touchstartã€touchmoveã€touchendäº‹ä»¶ç›¸å¯¹åº”çš„åŠŸèƒ½ï¼›å®žçŽ°æ»‘åŠ¨è§£é”å…·ä½“æ“ä½œã€‚ **å…³é”®ä»£ç ï¼š** 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071oLock.prototype.pickPoints=function(from,to)&#123; var olength=getDis(from,to); var dir=to.index&gt;from.index?1:-1; var len=this.restArr.length; var i= dir==1?0:(len-1); var limit= dir==1?len:-1; while( i!=limit )&#123; var pt=this.restArr[i]; if(getDis(pt,from)+getDis(pt,to)==olength)&#123; this.createPoint(pt.x,pt.y); this.usedArr.push(pt); this.restArr.splice(i,1); if(limit&gt;0)&#123; i--; limit--; &#125; &#125; i+=dir; &#125;&#125;oLock.prototype.boss=function(pos)&#123; //æ ¸å¿ƒæ–¹æ³• this.oGC.clearRect(0,0,this.oC.width,this.oC.height); for(var i=0;i&lt;this.arr.length;i++)&#123; this.createCle(this.arr[i].x, this.arr[i].y); &#125; this.createPoint(); this.createLine(pos); console.log(this.restArr.length); for(var i=0;i&lt;this.restArr.length;i++)&#123; var tp=this.restArr[i]; if(Math.abs(pos.x-tp.x)&lt;this.r &amp;&amp; Math.abs(pos.y-tp.y)&lt;this.r)&#123; this.createPoint(); this.pickPoints(this.usedArr[this.usedArr.length-1],tp); break; &#125; &#125; &#125;oLock.prototype.bindEv=function()&#123; var This=this; this.oC.addEventListener("touchstart",function(ev)&#123; var pos=This.getPos(ev); console.log(pos); for(var i=0;i&lt;This.arr.length;i++)&#123; if( Math.abs(pos.x-This.arr[i].x)&lt;This.r &amp;&amp; Math.abs(pos.y-This.arr[i].y)&lt;This.r )&#123; //åˆ¤æ–­ç‚¹å‡»çš„ä½ç½®æ˜¯ä¸æ˜¯åœ¨å°åœˆåœˆé‡Œé¢ // alert(1); This.onOff=true; This.usedArr.push(This.arr[i]); This.restArr.splice(i,1); break; &#125; &#125; &#125;); this.oC.addEventListener("touchmove",function(ev)&#123; if(This.onOff)&#123; This.boss(This.getPos(ev)); &#125; &#125;); this.oC.addEventListener("touchend",function(ev)&#123; if(This.onOff)&#123; This.onOff=true; This.doPassword(This.usedArr); setTimeout(function()&#123; This.getPoint(); //touchendä¹‹åŽè¦åˆå§‹åŒ–é¡µé¢ä¸€ä¸‹ &#125;,300); &#125; &#125;); &#125; è¿™é‡Œçš„usedArræ˜¯æŒ‡å·²ç»è¢«åœˆå‡ºçš„å°åœ†åœˆï¼ŒrestArræ˜¯æŒ‡å‰©ä¸‹æ²¡è¢«å…¨å‡ºçš„å°åœ†åœˆã€‚bosså‡½æ•°æ˜¯æŽ§åˆ¶è¿žçº¿ï¼Œé‡Œé¢çš„pickPointså‡½æ•°ä½œç”¨æ˜¯å½“è§¦æ‘¸ç‚¹æŽ¥è§¦åˆ°å°åœˆåœˆçš„æ—¶å€™ï¼Œå°†è¯¥å°åœˆåœˆçš„indexæ·»å…¥usedArrï¼Œå¹¶åˆ é™¤restArré‡Œé¢ç›¸å¯¹åº”çš„å…ƒç´  æ­¤å¤„çš„å‘ï¼šä¸€å¼€å§‹å¹¶æ²¡æœ‰æ³¨æ„äº‹ä»¶é‡Œé¢thisçš„æŒ‡å‘å’Œå¤–é¢çš„ä¸åŒï¼Œå¯¼è‡´é”™è¯¯ï¼Œåœ¨bindEvé‡Œå†™ä¸Švar This=thiså°±OKäº† 3. å¯†ç æ“ä½œéƒ¨åˆ†ï¼šæ­¤å¤„åŠŸèƒ½åŒ…å«ï¼Œä¿®æ”¹å¯†ç å¹¶åˆ é™¤localStorageé‡Œé¢å­˜çš„ä¸œè¥¿ï¼›éªŒè¯è¾“å…¥å¯†ç æ˜¯å¦ä¸Žè®¾ç½®çš„ç›¸åŒï¼›è®¾ç½®å¯†ç æ—¶å„ç§ä¸ç¬¦åˆè§„åˆ™çš„æ£€æŸ¥ç­‰ã€‚ å…³é”®ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556oLock.prototype.selectFun=function()&#123; var aInput=document.getElementsByTagName("input"); var that=this; aInput[0].onfocus=function()&#123; document.getElementById('header').innerHTML="è¯·è§£é”"; oLock.prototype.doPassword=function(pw)&#123; if( window.localStorage.getItem('password') )&#123; if(that.pwObj.nowPw)&#123; if(that.checkPassword(that.pwObj.nowPw,pw))&#123; document.getElementById('header').innerHTML='è§£é”æˆåŠŸ'; that.createCleLine('#00F90F'); &#125;else&#123; document.getElementById('header').innerHTML='è§£é”å¤±è´¥'; that.createCleLine('red'); &#125; &#125;else&#123; alert("è¿˜æœªè®¾ç½®å¯†ç "); &#125; &#125;else&#123; alert("è¿˜æœªè®¾ç½®å¯†ç "); &#125; &#125; &#125;; aInput[1].onfocus=function()&#123; document.getElementById('header').innerHTML="è¯·ç»˜åˆ¶è§£é”å›¾æ¡ˆ"; that.pwObj=&#123;&#125;; that.getPoint(); oLock.prototype.doPassword=function(pw)&#123; if(that.pwObj.step==1)&#123; if(that.checkPassword(that.pwObj.formerPw,pw))&#123; that.pwObj.step=2; that.pwObj.nowPw=pw; document.getElementById('header').innerHTML='å¯†ç ä¿å­˜æˆåŠŸ'; that.createCleLine('#00F90F'); window.localStorage.setItem('password',JSON.stringify(that.pwObj.nowPw)); &#125;else&#123; document.getElementById('header').innerHTML="ä¸¤æ¬¡è¾“å…¥ä¸ä¸€è‡´ï¼Œè¯·é‡æ–°è¾“å…¥"; that.createCleLine('red'); delete that.pwObj.step; &#125; &#125;else&#123; if(pw.length&lt;5)&#123; document.getElementById('header').innerHTML="å¯†ç å¤ªçŸ­ï¼Œè‡³å°‘éœ€è¦äº”ä¸ªç‚¹"; that.createCleLine('red'); that.pwObj=&#123;&#125;; &#125;else&#123; that.pwObj.step=1; that.pwObj.formerPw=pw; document.getElementById('header').innerHTML="å†æ¬¡è¾“å…¥"; &#125; &#125; &#125; &#125;;&#125; è¿™ä¸ªå‡½æ•°ä¸»è¦åŠŸèƒ½å°±æ˜¯é€šè¿‡å•é€‰æŒ‰é’®æ¥æŽ§åˆ¶æ˜¯è®¾ç½®å¯†ç è¿˜æ˜¯éªŒè¯å¯†ç ï¼Œå…·ä½“åšæ³•å°±æ˜¯é€šè¿‡æ”¹å˜oLock.prototype.doPasswordæ¥å®žçŽ°çš„ï¼Œä¸åŒçš„é€‰æ‹©ä¼šä½¿oLock.prototype.doPasswordé‡Œé¢å¯¹åº”çš„æ–¹æ³•ä¸åŒï¼Œä»Žè€Œå®žçŽ°æ¨¡å¼çš„åˆ‡æ¢ã€‚ é‡åˆ°çš„å‘ï¼šåœ¨æ‰“å¼€é¡µé¢çš„æ—¶å€™å¹¶æ²¡æœ‰è§¦å‘onfocusäº‹ä»¶ï¼Œæ‰€ä»¥oLock.prototype.doPasswordå°±ä¸ä¼šè¢«å®šä¹‰ã€‚è§£å†³æ–¹æ³•å°±æ˜¯åœ¨å¤–é¢å…ˆå®šä¹‰ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ã€‚]]></content>
      <categories>
        <category>project</category>
      </categories>
  </entry>
</search>
